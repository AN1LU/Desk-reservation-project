<h2>Mapa de oficina</h2>
<!-- Botón para abrir el calendario -->
<div class="acciones">
  <button class="btn-calendario" (click)="toggleCalendario()">
  Ver calendario de reservas
  </button>
</div>

<div class="calendario-container" *ngIf="mostrarCalendario">
  <div class="calendario-header">
    <button (click)="mesAnterior()">◀</button>
    <h3>{{ mesActual | date:'MMMM yyyy' }}</h3>
    <button (click)="mesSiguiente()">▶</button>
  </div>

  <div class="calendario-grid">
    <div class="dia-header" *ngFor="let dia of diasSemana">{{ dia }}</div>

    <div 
      class="dia" 
      *ngFor="let dia of diasDelMes" 
      [class.hoy]="esHoy(dia)"
      (click)="seleccionarFecha(dia)">
      {{ dia.getDate() }}
    </div>
  </div>
</div>


<div class="oficina">
  <!-- Sala de junta superior izquierda -->
  <button class="sala sala-superior-izquierda" (click)="reservarSala('Sala 1')">
    Sala 1
  </button>

  <!-- Sala de junta superior derecha -->
  <button class="sala sala-superior-derecha" (click)="reservarSala('Sala 2')">
    Sala 2
  </button>

  <!-- Escritorios al centro -->
  <div class="escritorios">
    <button 
      *ngFor="let escritorio of escritorios" 
      class="escritorio"
      (click)="reservar('Escritorio ' + escritorio)">
      Escritorio {{ escritorio }}
    </button>
  </div>

  <!-- Sala de junta inferior izquierda -->
  <button class="sala sala-inferior-izquierda" (click)="reservarSala('Sala 3')">
    Sala 3
  </button>

  <!-- Sala de junta inferior derecha -->
  <button class="sala sala-inferior-derecha" (click)="reservarSala('Sala 4')">
    Sala 4
  </button>
</div>

<!-- Pop-up del QR -->
<div class="popup" *ngIf="mostrarQR">
  <div class="popup-content">
    <h3>Reserva generada</h3>
    <qrcode [qrdata]="qrData" [width]="200"></qrcode>
    <p>{{ qrData }}</p>
    <button (click)="cerrarQR()">Cerrar</button>
  </div>
</div>
